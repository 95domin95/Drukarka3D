@model ReflectionIT.Mvc.Paging.PagingList<Drukarka3DData.Models.Order>
@using ReflectionIT.Mvc.Paging
@addTagHelper *, ReflectionIT.Mvc.Paging

<script src="/lib/jquery/dist/jquery.js"></script>
<script src="/js/jquery.rateyo.min.js"></script>


@await this.Component.InvokeAsync("Pager", new { pagingList = this.Model })

<div class="row" id="gallery-filter-menu">
    @*<div class="col-lg-4 col-lg-offset-4 col-md-6 col-md-offset-3 col-sm-8 col-sm-offset-2 col-xs-10 col-xs-offset-1" style="margin-bottom: 10px">*@
    <form asp-controller="Home" asp-action="Index" method="get">
        <div class="col-md-3 col-sm-6">
            <div class="gallery-search-inputs">
                Sortuj:
            </div>
            <select name="sortExpression" class="form-control">
                <option value="UploadDate" selected="selected">Najnowsze</option>
                <option value="Name">Alfabetycznie</option>
            </select>
        </div>
        <div class="col-md-3 col-sm-6">
            <div class="gallery-search-inputs">
                Kolejność sortowania:
            </div>
            <select name="sortOrder" class="form-control">
                <option value="asc" selected="selected">Rosnąco</option>
                <option value="desc">Malejąco</option>
            </select>
        </div>
        <div class="col-md-3 col-sm-6">
            <div class="gallery-search-inputs">
                Elementów na stronie:
            </div>
            <select name="onPage" class="form-control">
                <option value="10" selected="selected">10</option>
                <option value="20">20</option>
                <option value="50">50</option>
                <option value="100">100</option>
            </select>
        </div>
        <div class="col-md-3 col-sm-6">
            <div class="gallery-search-inputs">
                Wyszukaj:
            </div>
            <input type="text" class="form-control" placeholder="Wpisz frazę..." name="filter" value="@Model.RouteValue["Filter"]" />
        </div>
        <div class="col-md-12 col-sm-12" style="margin-top: 15px">
            <button type="submit" class="btn btn-primary"><strong>Filtruj</strong></button>
        </div>
    </form>
    @*</div>*@
</div>
<div class="container-fluid">
    <div class="row imagetiles">
        @for (int i = 0; i < Model.Count() - 2; i += 4)
        {

            @for (int j = i; j < i + 4; j++)
            {
                <div class="col-xl-2 col-lg-3 col-md-4 col-sm-6 col-xs-12">
                    <form asp-controller="Home" asp-action="ProjectView" method="post" enctype="multipart/form-data">
                        <input type="image" src="@Model.ElementAt(j).UserScreenPath" class="img-responsive" name="@Model.ElementAt(j).OrderId" />
                    </form>
                    <div class="img-gallery-img-footer">
                        <div class="image-caption-div">@Model.ElementAt(j).Name</div>
                        <div id="rateYo-@Model.ElementAt(j).OrderId" style="float: right"></div>
                        <script>

                                $("#rateYo-@Model.ElementAt(j).OrderId").rateYo({
            rating: (parseFloat(@Model.ElementAt(j).Rate.ToString().Replace(",", ".")) > 5 ? 0 : parseFloat(@Model.ElementAt(j).Rate.ToString().Replace(",", ".")))/5,
                                    maxValue: 1,
                                    numStars: 1,
                                    starWidth: "40px",
                                    readOnly: true
                                });
                        </script>
                    </div>
                </div>
            }

        }
    </div>
</div>

<vc:pager paging-list="@Model" />
